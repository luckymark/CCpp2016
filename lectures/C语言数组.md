# 数组
*课上因为感受到谭神的注视，所以有点紧张导致部分内容忘了提及，在此补全*

`其中大量内容过度追求细节与描述上的准确、没有较大意义，可选择性忽视(个人觉得其实真的读懂的话还是很有意义的)`

#### 0.数组的作用
数组的作用可以归纳为以下几点：

+ 批量开辟内存空间（且开辟在栈空间，进而可以与malloc函数区分开）
+ 在特定应用情景下提供更加便捷、**直观**的语法特性

实际使用的作用可以简单理解为“批量命名”

#### 1.数组定义、初始化、访问、遍历
/(ㄒoㄒ)/~~我真的不会写，大神们肯定比我这个渣懂得多，不赘述

#### 2.数组越界
C语言他爹当年设计C语言的时候，其设计思想就是汇编的一层封装，且为了程序的运行效率，C语言有很多看起来并不安全的特性，将程序的安全性寄托于程序员的睿智大脑上

如果你的水平有Java他爹、Python他爹的水平，那么C语言会是你手中最强大的神器

然而一旦碰到我这种战五渣，C语言就是一个充满了陷阱的雷区

数组最大的雷区莫过于[数组越界](http://codecloud.net/c-2-2106.html)

至于数组越界的之后\~~~

如果你是*[Jeff Dean](https://en.wikipedia.org/wiki/Jeff_Dean_(computer_scientist))*这样的*rock star programer*，一个独角兽会踏着彩虹从天而降并给每个人提供免费的冰激凌

如果你是像我一样的渣，你将会收获一堆损坏的数据乃至一个崩溃的程序

` 根据SCP基金会一份秘密档案记载，无法排除排除你的电脑会大叫一声“德玛西亚”然后跳入草丛并单挑大龙的可能 `

#### 3.数组是一种变量类型

> An *array type* describes a contiguously allocated nonempty set of objects with a particular member object type, called the *element type.*

以上引用自《C语言标准规范_C99》

在此可以看出，数组属于单独的一种类型而不是简单的同类型变量顺序排列的结果

从实际作用角度可以概括为*同类型元素的有序集合*

从语法规范角度**必须**认为是一种*特定的数据类型*

因为将数组视为一种数据类型，即意味着一个数组可以认为是变量这个集合的子集，拥有的各类型变量的所有共性。

PS：从编程的角度解释，即“数组类”是“变量类”的子类，继承了父类的一切属性和方法

认识到数组属于一种数据类型后，即不需要将数组作为一种特例进行记忆，便于学习中理清知识体系


####4.数组名不可等价于指针的程序示例

	#include <stdio.h>
	int main()
	{
		int array[10];
		printf("%d\n",sizeof(array);
		return 0;
	}
该程序的运行结果应该是**在数值上等同于**sizeof(int)*10

**由于C语言函数传参均为复制传参,在以数组为参数时，由于复制整个数组开销较大，此时会利用C语言隐式转换机制将数组退化为指向数组首元素的指针**

	#include <stdio.h>
	int showSomething(int array[])
	{
		return sizeof(array);
	}
	int main()
	{
		int array[10];
		printf("%d\n",showSomething(array));
		return 0;
	}
该程序运行结果应该是**在数值上等同于**sizeof(void\*)(视编译目标平台不同，指针变量长度有所不同)

由于数组名并非指针，仅代表一个内存地址，也就意味着数组名本身是不可变内容，**不可在赋值语句中作为左值存在**，这一点是实际使用中数组名与指针最大的差别

#### 5.字符数组的部分
在C语言中，没有字符串数据类型，字符串必须使用字符数组的方法实现，即将字符串理解为一连串字符的有序集合，它反映了字符串在计算机内存中真实的存储方式

在很多封装程度更高的程序语言中，这一点被大大弱化以减少程序复杂性，提升开发效率

关于各类语言各种编码方式的不同，推荐阅读[字符编码详解](http://www.crifan.com/files/doc/docbook/char_encoding/release/html/char_encoding.html)

常见声明字符数组的方法有

+	char array[]="俸志刚俸大神"/\*声明一个字符数组，所有内容在栈空间\*/
+	char \*array="发型帅炸"/\*在全局变量区声明开辟一个空间用来储存字符串，然后在栈空间声明一个指向字符数组的指针指向该字符串\*/


但不管哪种方法，字符串结尾处都会自动补上'\\0'以表示字符串结束

无聊的tips:

+ 在C语言中，" "表示字符串，' '表示字符   
所以char array[]="a"长度为两个字节   
而char array[]='a'长度则为一个字节

危险的tips:

+ 如果想要声明一个结尾没有'\\0'的字符串，则只可

	char array[]={'a','b','o','u','t'};

此时该字符数组长度仅为5,但是毫无疑问，这是一种很危险的用法，原因请参考以上关于数组越界的内容

####6.二维数组及多维数组
	#include <stdio.h>
	int main(int argc, char const *argv[])
	{
		int array[2][3]={{0,1,2},{3,4,5}};//初始化一个二维数组
		for(int i=0;i<2;i++)
		{
			for(int j=0;j<3;j++)
			{
				printf("%d\t",array[i][j]);
			}
		}
		printf("\n" );
		int *point=(int *)array;//声明一个指针变量，其存储值与数组名所代表的地址相同
		for(int i=0;i<2*3;i++)
		{
			printf("%d\t",*(point++));//指针不断偏移
		}
	}
###### 运行以上程序，通过两个下标进行遍历与直接用指针偏移进行遍历输出结果相同，即意味着，在C语言中，二维数组的物理存储结构仍然与一维无异
###### 即int array[2][5]在物理结构上等价于int array[10]
###### 但二维数组乃至多维数组的引入，有以下作用
+ 实现语言设计逻辑的自洽，即数组本身也是一种基本数据类型，应该可以作为数组的元素，多维数组即元素均为数组的数组
+ 提供更加便捷、直观的描述现实世界客观物体的语法特性，便于程序员完成对于现实问题的抽象

## 仅供娱乐的部分

#### 数组的“交换律”
前面提到，数组是一种基本数据类型，实例化后的数组即为一个变量。而C语言中所有的变量名与函数名唯一的作用就是**照顾我们这些愚蠢的人类**

对于计算机来说，变量名与函数名仅代表程序运行时特定的内存地址。程序编译之后变量名将无法还原，因为在编译过程中已经去除了变量名信息~~此处应有信息学知识~~

所以一般可以简单认为：

array[5]==\*(array+5)==\*(5+array)==5[array]

因为在此处，array仅代表数组首地址，所以可以直接进行数值运算并可使用与指针相同的运算符" * "

PS：如果你在工作时这么写，不保证不会被同事用键盘砸死，建议提前购买高额保险
